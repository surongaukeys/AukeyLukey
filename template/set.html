<!DOCTYPE html>
<html lang="en" xmlns="://.w3.org/1999/xhtml">
<meta charset="utf-8"/>
<title>榜单列表</title>
<style>
    table {
        table-layout: auto;
        font-family: songti, serif;
    }
    @font-face {
    font-family: 'songti';
    src: url('../this/songti.ttf');
 }
     /*表格行被选中时的背景*/
    .fixed-table-container tbody .selected td {
        background-color: black !important;
    }
</style>
<header class="top-nav sidebar-mini">
    <div class="top-nav-inner">
        <div class="nav-container">
            <div class="ulist">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a tabindex="0" href="main.html" id="mainHtml">抽奖</a>
                    </li>
                    <li class="dropdown">
                        <a tabindex="0" href="set.html" id="setHtml">设置</a>
                    </li>
                </ul>
            </div>
            <a class="index-tex" href="../index.html" id="indexHtml"><span>首页</span> </a>
        </div>
    </div>
</header>
<link href="../static/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../static/css/jquery.jgrowl.min.css" type="text/css">
<link rel="stylesheet" href="../static/bootstrap-table/css/bootstrap-table.css" type="text/css">
<link href="../static/css/simplify.min.css" rel="stylesheet" type="text/css">
<link href="../static/css/New.css" rel="stylesheet" type="text/css">
<link href="../static/css/public.css" rel="stylesheet" type="text/css">
<link href="../static/css/set.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="../static/js/jquery-1.9.1.min.js" type="text/javascript"></script>
<!-- Bootstrap -->
<script src="../static/bootstrap/js/bootstrap-3.3.js" type="text/javascript"></script>
<script src="../static/bootstrap-table/js/bootstrap-table.min.js" type="text/javascript"></script>
<script src="../static/bootstrap-table/js/bootstrap-table-zh-CN.min.js" type="text/javascript"></script>
<script src="../static/js/jquery.jgrowl.js" type="text/javascript"></script>
<script src="../static/js/jquery.jqprint-0.3.js" type="text/javascript"></script>
<script src="../static/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<!-- Modernizr -->
<script src="../static/js/modernizr.min.js" type="text/javascript"></script>
<!-- Simplify -->
<script src="../static/js/simplify.js" type="text/javascript"></script>
<script src="../static/js/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../static/js/defindejs/sets.js" type="text/javascript"></script>
<script src="../this/new.js" type="text/javascript"></script>
<body class="overflow-hidden">
<div class="wrapper">
    <!-- 左侧菜单栏   -->
    <aside class="sidebar-menu fixed sidebar-mini">
        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 100%;">
            <div class="sidebar-inner scrollable-sidebar" style="overflow: hidden; width: auto; height: 100%;">
                <div class="main-menu">
                    <ul class="accordion">
                        <li class="left-menu-item open">
                            <a id="prizesMenu" onclick="toggleMenu('prizes','prizesMenu')">
                                <span class="menu-content block">
                                    <span class="text m-left-sm">奖项列表</span>
                                </span>
                                <span class="menu-content-hover block">
                                    奖项列表
                                </span>
                            </a>
                        </li>
                        <li class="left-menu-item">
                            <a id="userlistMenu" onclick="toggleMenu('userlist','userlistMenu')">
                                <span class="menu-content block">
                                    <span class="text m-left-sm">员工列表</span>
                                </span>
                                <span class="menu-content-hover block">
                                    员工列表
                                </span>
                            </a>
                        </li>
                        <li class="left-menu-item">
                            <a id="resultMenu" onclick="toggleMenu('result','resultMenu')">
                                <span class="menu-content block">
                                    <span class="text m-left-sm">榜单列表</span>
                                </span>
                                <span class="menu-content-hover block">
                                    榜单列表
                                </span>
                            </a>
                        </li>
                        <li class="left-menu-item">
                            <a id="backUpMenu" onclick="toggleMenu('backUp','backUpMenu')">
                                <span class="menu-content block">
                                    <span class="text m-left-sm">数据同步</span>
                                </span>
                                <span class="menu-content-hover block">
                                    数据同步
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </aside><!-- left-menu -->
    <!-- 内容体   -->
    <div class="main-container new">
        <div class="padding-md ">
            <div class="smart-widget-inner">
                <!-- 功能按钮    -->
                <div class="fun-btn" style="float: left;">
                    <button class="btn btn-success hidden" id="addPrize" onclick="modalshow('addPrizeModal')">
                        <font><font>添加</font></font>
                    </button>
                    <!-- <audio src="../static/mp3/bj.mp3" autoplay="autoplay" controls="controls" height="40" loop="loop" >你的浏览器不支持</audio> -->
                    <button class="btn btn-success hidden" id="deletePrize" onclick="modalshow('deletePrizeModal')">
                        <font><font>删除</font>
                        </font>
                    </button>
                    <button class="btn btn-success hidden" id="editPrize" onclick="modalshow('editprizeModal')">
                        <font><font>编辑</font></font>
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs hidden" id="deleteResult"
                            onclick="modalshow('deletePrizeRecodeModal')">删除
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs hidden" id="exportResult">导出
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs hidden" id="printResult">打印
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs" id="importUserInfo"
                            onclick="modalshow('importUserInfoModal')">导入
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs" id="clearUserInfo"
                            onclick="modalshow('clearUserModal')">清空
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs  hidden" id="onekeyBack" onclick="exportAllInfo()">备份
                    </button>
                    <button type="button" class="btn btn-success marginTB-xs hidden" id="onekeyReview"
                            onclick="modalshow('reviewDataModal')">恢复
                    </button>
                </div>
                <div style="float: left;" id="keywordform">
                        <input type="text" name="text" id="keyword" autocomplete="off"
                               style="width: 350px;padding: 8px 83px 8px 40px;border: 1px solid #f9b93b;background-color: #000;border-radius: 20px;color: #fff;font-size: 14px;outline: none;"
                               value="">
                        <span style="float: left;">
                   <img src="../this/images/search.png" style="margin: -35px 0 0 16px;position: absolute;"> 
                </span>
                </div>
                <!-- 奖项列表   -->
                <div class="fixed-table-body" id="prizes">
                    <table id="prizes_table" data-toggle="table"
                           class="table"
                           data-click-to-select="true"
                           data-maintain-selected="true"
                           data-sort-name="size" data-sort-order="desc" data-undefined-text='' data-height=''>
                        <thead id="prizes_tableThead">
                        <tr>
                            <th data-checkbox="true"  ></th>
                            <th data-field="name">奖项名称</th>
                            <th data-field="size">奖品</th>
                            <th data-field="total">总名额</th>
                            <th data-field="left">剩余名额</th>
                            <th data-field="onlyUnlucky" data-formatter="remark">抽奖规则</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <!--  员工信息列表  -->
                <div class="fixed-table-body hidden" id="userlist">
                    <table id="user_table" data-toggle="table"
                           class="table"
                           data-click-to-select="true"
                           data-sort-name="code" data-sort-order="asc" data-height="600">
                        <thead id="user_tableThead">
                        <tr>
                            <th data-field="code">工号</th>
                            <th data-field="name">姓名</th>
                            <th data-field="department">部门</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <!-- 榜单列表   -->
                <div class="fixed-table-body hidden" id="result">
                    <table id="result_table" data-toggle="table"
                           class="table "
                           data-click-to-select="true"
                           data-maintain-selected="true"
                           data-query-params="query_params"  data-height="600">
                        <thead id="result_tableThead">
                        <tr>
                            <th data-checkbox="true" data-field="check"></th>
                            <th data-field="index" data-visible="true">序号</th>
                            <th data-field="eCode">工号</th>
                            <th data-field="eName">姓名</th>
                            <th data-field="eDept">部门</th>
                            <th data-field="pName">奖项名称</th>
                            <th data-field="size" data-formatter='prizes'>奖品</th>
                            <th data-field="EsingName" data-visible='false' data-formatter ='singName' >领奖员工签名</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <!-- 备份与恢复   -->
                <div class="fixed-table-body hidden" id="backUp">
                    <table id="backup_table" data-toggle="table"
                           class="table"
                           data-click-to-select="true"
                           data-maintain-selected="true"  data-height="588">
                        <thead id="backup_tableThead">
                        <tr>
                            <th data-field="backupContent">备份内容</th>
                            <th data-field="backupData">备份时间</th>
                            <th data-field="backupSatus">备份状态</th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div><!-- /smart-widget-inner 结束-->
        </div><!-- /padding-md 结束-->
    </div><!-- /main-container 结束-->
</div>
<!--模态框-->
<!-- 新增操作模态框   -->
<div class="modal fade" id="addPrizeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--头部  -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">新增奖项</h4>
            </div><!--modal -header 结束  -->

            <!-- 内容体 -->
            <div class="modal-body">
                <form class="form-horizontal no-margin" id="addPrizeForm" data-validate="parsley">
                    <div class="form-group">
                        <label class="control-label col-lg-3">奖项名称</label>
                        <div class="col-lg-8">
                            <input type="text" name="prizeName" id="prizeName" placeholder="奖项名称"
                                   class="form-control input-sm"
                                   data-parsley-type="url"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-3">奖金</label>
                        <div class="col-lg-8">
                            <input type="text" name="size" id="size" placeholder="奖金"
                                   class="form-control input-sm"
                                   data-parsley-type="url"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-lg-3">抽奖总人数</label>
                        <div class="col-lg-8">
                            <input type="text" name="total" id="total" placeholder="抽奖总人数"
                                   class="form-control input-sm"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-lg-3">抽奖规则</label>
                        <div class="col-lg-8">
                            <select name="remark" class="form-control" id="remark">
                                <option value="0">全体员工</option>
                                <option value="1">未中奖员工</option>
                            </select>
                        </div>
                    </div> <!-- /form-group -->
                </form>
            </div><!--modal body 结束  -->

            <!--尾部  -->
            <div class="modal-footer spe">
                <button type="button" class="btn btn-info" onclick="submit('addPrizeModal')">确定
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>

<!-- 删除奖项操作模态框   -->
<div class="modal fade bd-example-modal-sm" id="deletePrizeModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <!-- 内容体 -->
            <div class="modal-body">
                <h3 style="text-align: center;"> 删除奖项</h3>
            </div><!--modal body 结束  -->

            <!--尾部  -->
            <div class="modal-footer speci">
                <button type="button" class="btn btn-gray" data-dismiss="modal">退出
                </button>
                <button type="button" class="btn btn-danger" onclick="submit('deletePrizeModal')">删除
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>
<!-- 删除中奖纪录操作模态框   -->
<div class="modal fade bd-example-modal-sm" id="deletePrizeRecodeModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <!-- 头部
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">删除中奖纪录</h4>
            </div>modal -header 结束 -->

            <!-- 内容体 -->
            <div class="modal-body">
                <h3 style="text-align: center;"> 删除中奖纪录</h3>
            </div><!--modal body 结束  -->

            <!--尾部  -->
            <div class="modal-footer speci">
                <button type="button" class="btn btn-gray" data-dismiss="modal">退出
                </button>
                <button type="button" class="btn btn-danger" onclick="submit('deletePrizeRecodeModal')">删除
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>
<!-- 编辑操作模态框   -->
<div class="modal fade" id="editprizeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--头部  -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">编辑奖项</h4>
            </div><!--modal -header 结束  -->

            <!-- 内容体 -->
            <div class="modal-body">
                <form class="form-horizontal no-margin" id="editPrizeform">
                    <div class="form-group">
                        <label class="control-label col-lg-3">奖项名称</label>
                        <div class="col-lg-6">
                            <input type="text" name="old_prizeName" id="old_prizeName" placeholder="奖项名称"
                                   class="form-control input-sm" readonly="readonly"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-3">奖金</label>
                        <div class="col-lg-6">
                            <input type="text" name="old_size" id="old_size" placeholder="奖金"
                                   class="form-control input-sm"
                                   data-parsley-type="url"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-3">抽奖总人数</label>
                        <div class="col-lg-6">
                            <input type="text" name="old_total" id="old_total" placeholder="抽奖总人数"
                                   class="form-control input-sm"/>
                        </div><!-- /.col -->
                    </div>

                    <div class="form-group">
                        <label class="control-label col-lg-3">抽奖规则</label>
                        <div class="col-lg-6">
                            <select name="old_remark" class="form-control" id="old_remark">
                                <option value="0">全体员工</option>
                                <option value="1">未中奖员工</option>
                            </select>
                        </div>
                    </div> <!-- /form-group -->
                </form>
            </div><!--modal body 结束  -->

            <!--尾部  -->
            <div class="modal-footer spe">
                <button type="button" class="btn btn-info" onclick="submit('editprizeModal')">确定
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>
<!-- 清空操作模态框   -->
<div class="modal fade bd-example-modal-sm" id="clearUserModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <!-- 内容体 -->
            <div class="modal-body">
                <h3 style="text-align: center;">清空用户信息</h3>
            </div><!--modal body 结束  -->

            <!--尾部  -->
            <div class="modal-footer speci">
                <button type="button" class="btn btn-gray" data-dismiss="modal">退出
                </button>
                <button type="button" class="btn btn-danger" onclick="submit('clearUserModal')">清空
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>

<!-- 导入数据模态框   -->
<div class="modal" id="importUserInfoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--头部  -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">导入员工信息</h4>
            </div><!--modal -header 结束  -->
            <!-- 内容体 -->
            <div class="modal-body">
                <div class="form-horizontal no-margin">
                    <div class="form-group"
                         style="margin-top: 0px; margin-bottom: 0px;position: relative;top: 40px;">
                        <label class="control-label col-lg-3">选择文件</label>
                        <div class="col-lg-9">
                            <input type="file" name="userInfoFile" id="userInfoFile" class="form-control input-sm"/>
                        </div><!-- /.col -->
                    </div><!-- /form-group -->
                </div>
            </div><!--modal body 结束  -->
            <!--尾部  -->
            <div class="modal-footer spe">
                <button type="button" class="btn btn-info" form="add_user_form"
                        onclick="submit('importUserInfoModal')">确定
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>
<!-- 导出数据模态框  直接使用浏览器默认的下载弹出框  -->
<!-- 备份数据模态框  同导出 -->

<!-- 恢复数据模态框   -->
<div class="modal fade" id="reviewDataModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content class-sel">
            <!--头部  -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">同步数据</h4>
            </div><!--modal -header 结束  -->
            <!-- 内容体 -->
            <div class="modal-body">
                <div class="form-horizontal no-margin">
                    <div class="form-group"
                         style="margin-top: 0px; margin-bottom: 0px;position: relative;top: 40px;">
                        <label class="control-label col-lg-3">选择配置文件</label>
                        <div class="col-lg-9">
                            <input type="file" name="reviewDataFile" id="reviewDataFile"
                                   class="form-control input-sm"/>
                        </div><!-- /.col -->
                    </div><!-- /form-group -->
                </div>
            </div><!--modal body 结束  -->
            <!--尾部  -->
            <div class="modal-footer spe">
                <button type="button" class="btn btn-info" form="add_user_form" onclick="submit('reviewDataModal')">
                    确定
                </button>
            </div><!--modal footer 结束  -->
        </div><!--modal content 结束  -->
    </div>
</div>
</body>
</html>